

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Cloudmesh Storage Module &mdash; Cloudmesh v4 alpha documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. AWSS3 Cloudmesh Integration" href="README-storage-awss3.html" />
    <link rel="prev" title="1. Cloudmesh Multi Cloud Storage Interface" href="README-storage.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Cloudmesh v4
          

          
          </a>

          
            
            
              <div class="version">
                4.0.28
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">PREFACE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">2. Contributors</a></li>
</ul>
<p class="caption"><span class="caption-text">INSTALATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">2. Quickstart (proposed)</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">3. Configuration (ok)</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaml.html">4. Cloudmesh yaml file</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongo.html">5. Cloudmesh Database (ok)</a></li>
</ul>
<p class="caption"><span class="caption-text">COMPUTE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="vm.html">1. Virtual Machine Management (proposed)</a></li>
</ul>
<p class="caption"><span class="caption-text">STORAGE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README-storage.html">1. Cloudmesh Multi Cloud Storage Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Cloudmesh Storage Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">2.1. Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-and-documentation">2.2. Installation and Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pytests">2.3. Pytests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#general-features">2.4. General features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-line-interface">2.4.1. Command Line Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#programming-interface">2.4.2. Programming Interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#box">2.5. Box</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">2.5.1. Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">2.5.2. Pytests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#azure">2.6. Azure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">2.6.1. Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">2.6.2. Pytests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#aws-s3">2.7. AWS S3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">2.7.1. Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">2.7.2. Pytests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#google-drive">2.8. Google drive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">2.8.1. Pytests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#virtual-directory">2.9. Virtual Directory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">2.9.1. Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">2.9.2. Pytests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="README-storage-awss3.html">3. AWSS3 Cloudmesh Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="README-storage-openapi.html">4. Cloudmesh Multi Cloud Open API Interface</a></li>
</ul>
<p class="caption"><span class="caption-text">WORKFLOW</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">1. Infrastructure Workflow (proposed)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jupyter.html">2. Jupyter Integration (proposed)</a></li>
</ul>
<p class="caption"><span class="caption-text">MANUAL PAGES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/admin.html">1. admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/banner.html">2. banner</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/clear.html">3. clear</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/default.html">4. default</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/echo.html">5. echo</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/info.html">6. info</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/pause.html">7. pause</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/plugin.html">8. plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/q.html">9. q</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/quit.html">10. quit</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/shell.html">11. shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/sleep.html">12. sleep</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/stopwatch.html">13. stopwatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/sys.html">14. sys</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/var.html">15. var</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/cmd5/version.html">16. version</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/flavor.html">17. flavor</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/image.html">18. image</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/key.html">19. key</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/network.html">20. network</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/open.html">21. open</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/secgroup.html">22. secgroup</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/ssh.html">23. ssh</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/vbox.html">24. vbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/vcluster.html">25. vcluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/vm.html">26. vm</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/compute/workflow.html">27. workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/storage/storage.html">28. storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/storage/vdir.html">29. vdir</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual-dev.html">30. Manual (proposed)</a></li>
</ul>
<p class="caption"><span class="caption-text">CODE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code.html">1. Code Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">CONTRIBUTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="conventions.html">1. Code Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest.html">2. Pytest</a></li>
</ul>
<p class="caption"><span class="caption-text">Outdated:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="goal.html">1. Goal (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="goal.html#manual-cloudmesh-multi-service-data-access">2. Manual: Cloudmesh Multi Service Data Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="vmproviders.html">3. VM Providers (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vagrant.html">4. Vagrant (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="CM4README.html">5. CM4 Details (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws.html">6. AWS cm (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ufo.html">7. REST Service (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vcluster.html">8. Virtual Cluster (in progress)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cloudmesh v4</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>2. Cloudmesh Storage Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/README-storage-1.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cloudmesh-storage-module">
<h1>2. Cloudmesh Storage Module<a class="headerlink" href="#cloudmesh-storage-module" title="Permalink to this headline">¶</a></h1>
<p><strong>Note: Do not modify the shield, once we release the storage module they will work</strong></p>
<p><a class="reference external" href="https://pypi.python.org/pypi/cloudmesh-storage"><img alt="https://img.shields.io/pypi/v/cloudmesh-storage.svg" src="https://img.shields.io/pypi/v/cloudmesh-storage.svg" />Version</a>
<a class="reference external" href="https://github.com/cloudmesh/cloudmesh-storage/blob/master/LICENSE"><img alt="https://img.shields.io/badge/License-Apache%202.0-blue.svg" src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" />License</a>
<a class="reference external" href="https://pypi.python.org/pypi/cloudmesh-storage"><img alt="https://img.shields.io/pypi/pyversions/cloudmesh-storage.svg" src="https://img.shields.io/pypi/pyversions/cloudmesh-storage.svg" />Python</a>
<a class="reference external" href="https://pypi.python.org/pypi/cloudmesh-storage"><img alt="https://img.shields.io/pypi/format/cloudmesh-storage.svg" src="https://img.shields.io/pypi/format/cloudmesh-storage.svg" />Format</a>
<a class="reference external" href="https://pypi.python.org/pypi/cloudmesh-storage"><img alt="https://img.shields.io/pypi/status/cloudmesh-storage.svg" src="https://img.shields.io/pypi/status/cloudmesh-storage.svg" />Format</a>
<a class="reference external" href="https://travis-ci.com/cloudmesh/cloudmesh-storage"><img alt="https://travis-ci.com/cloudmesh/cloudmesh-storage.svg?branch=master" src="https://travis-ci.com/cloudmesh/cloudmesh-storage.svg?branch=master" />Travis</a></p>
<div class="section" id="requirements">
<h2>2.1. Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Please note that several packages are available which are pointed to in the
installation documentation.</p>
<p>|  | Links |
|—————|——-|
| Documentation | <a class="reference external" href="https://cloudmesh.github.io/cloudmesh-cloud">https://cloudmesh.github.io/cloudmesh-cloud</a> |
| Code | <a class="reference external" href="https://github.com/cloudmesh/cloudmesh-cloud">https://github.com/cloudmesh/cloudmesh-cloud</a> |
| Instalation Instructions | <a class="reference external" href="https://github.com/cloudmesh/get">https://github.com/cloudmesh/get</a> |</p>
<p>An dynamically extensible CMD based command shell. For en extensive
documentation please see</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cloudmesh-community/book/blob/master/vonLaszewski-cloud.epub?raw=true">https://github.com/cloudmesh-community/book/blob/master/vonLaszewski-cloud.epub?raw=true</a></p></li>
</ul>
<p>where we also document how to use pyenv virtualenv.</p>
</div>
<div class="section" id="installation-and-documentation">
<h2>2.2. Installation and Documentation<a class="headerlink" href="#installation-and-documentation" title="Permalink to this headline">¶</a></h2>
<p>For developers:</p>
<p>To install the storage module, you need to do an additional step. Please got to the directory
<code class="docutils literal notranslate"><span class="pre">cloudmesh.storage</span></code> and execute in it the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install -e .
</pre></div>
</div>
<p>For users (NOT YET WORKING:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install cloudmesh.storage
</pre></div>
</div>
</div>
<div class="section" id="pytests">
<h2>2.3. Pytests<a class="headerlink" href="#pytests" title="Permalink to this headline">¶</a></h2>
<p>We have developed a number of simple pytests that can be called. To see the list of Pytests go to our directory</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cloudmesh/cloudmesh-storage/tree/master/tests">https://github.com/cloudmesh/cloudmesh-storage/tree/master/tests</a></p></li>
</ul>
<p>We also developed a general pytest that works accross providers and can be invoked as follows</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cms <span class="nb">set</span> <span class="nv">storage</span><span class="o">=</span>box
$ pytest -v --capture<span class="o">=</span>no tests/test_storage.py
$ cms <span class="nb">set</span> <span class="nv">storage</span><span class="o">=</span>azure
$ pytest -v --capture<span class="o">=</span>no tests/test_storage.py
$ cms <span class="nb">set</span> <span class="nv">storage</span><span class="o">=</span>gdrive
$ pytest -v --capture<span class="o">=</span>no tests/test_storage.py
$ cms <span class="nb">set</span> <span class="nv">storage</span><span class="o">=</span>awss3
$ pytest -v --capture<span class="o">=</span>no tests/test_storage.py
</pre></div>
</div>
<p>TODO: add other storage providers as they become ready</p>
</div>
<div class="section" id="general-features">
<h2>2.4. General features<a class="headerlink" href="#general-features" title="Permalink to this headline">¶</a></h2>
<p>How to set up the authentication to a specific service is discussed in later sections</p>
<p>TODO: Provide a simple programming example with the general provider</p>
<div class="section" id="command-line-interface">
<h3>2.4.1. Command Line Interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h3>
<p>TBD</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cms <span class="nb">set</span> <span class="nv">storage</span><span class="o">=</span>azure
$ cms storage list
</pre></div>
</div>
</div>
<div class="section" id="programming-interface">
<h3>2.4.2. Programming Interface<a class="headerlink" href="#programming-interface" title="Permalink to this headline">¶</a></h3>
<p>TBD</p>
<p>Cloudmesh Storage provides a simple programming API interface that you can use.
We highlight a simple exampple for storing and retrieving a file form a storage
provider.</p>
<p>We assume the files at the given path exist</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cloudmesh.storage.provider.Provider</span> <span class="kn">as</span> <span class="nn">Provider</span>
<span class="kn">from</span> <span class="nn">cloudmesh.common.util</span> <span class="kn">import</span> <span class="n">path_expand</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="n">provider</span> <span class="o">=</span> <span class="n">Provider</span><span class="p">(</span><span class="n">service</span><span class="o">=</span><span class="s2">&quot;azure&quot;</span><span class="p">)</span>
<span class="n">src</span> <span class="o">=</span> <span class="n">path_expand</span><span class="p">(</span><span class="s2">&quot;~/.cloudmesh/storage/test/a/a.txt&quot;</span><span class="p">)</span>
<span class="n">dst</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">provider</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>
<span class="c1"># The resut will be a dict of the information whih you can print with </span>

<span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="box">
<h2>2.5. Box<a class="headerlink" href="#box" title="Permalink to this headline">¶</a></h2>
<div class="section" id="configuration">
<h3>2.5.1. Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>In the <code class="docutils literal notranslate"><span class="pre">cloudmesh4.yaml</span></code> file, find the ‘box’ section under ‘storage’. Under credentials, set <code class="docutils literal notranslate"><span class="pre">config_path</span></code> to the path of the configuration file you created as described in the Box chapter:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>   box:
      cm:
        heading: Box
        host: box.com
        label: Box
        kind: box
        version: TBD
      default:
        directory: /
      credentials:
        config_path: ******************************
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>2.5.2. Pytests<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Open a terminal and navigate to the cloudmesh-storage directory. Enter the following command to run pytests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pytest -v --capture<span class="o">=</span>no tests/test_box.py
</pre></div>
</div>
</div>
</div>
<div class="section" id="azure">
<h2>2.6. Azure<a class="headerlink" href="#azure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>2.6.1. Configuration<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">cloudmesh4.yaml</span></code> file needs to be set up as follows for the ‘azure-blob’ section under ‘storage’.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cloudmesh:
  .........
  storage:
    box:
      cm:
        heading: Box
        host: box.com
        label: Box
        kind: box
        version: TBD
      default:
        directory: TBD
      credentials:
        name: TBD
    azureblob:
      cm:
        heading: Azure
        host: azure.com
        label: Azure
        kind: azureblob
        version: TBD
      default:
        directory: TBD
      credentials:
        account_name: <span class="s1">&#39;*****************&#39;</span>
        account_key: <span class="s1">&#39;********************************************************************&#39;</span>
        container: <span class="s1">&#39;azuretest&#39;</span>
</pre></div>
</div>
<p>Configuration settings for credentials in the yaml file can be obtained from Azure portal.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">account_name</span></code> - This is the name of the Azure blob storage account.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">account_key</span></code> - This can be found under ‘Access Keys’ after navigating to the storage account on the Azure portal.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container</span></code> - This can be set to a default container created under the Azure blob storage account.</p></li>
</ul>
</div>
<div class="section" id="id3">
<h3>2.6.2. Pytests<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Execute the following command for Azure Blob storage service pytest after navigating to the cloudmesh-storage directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pytest -v --capture<span class="o">=</span>no tests/test_azure.py
</pre></div>
</div>
</div>
</div>
<div class="section" id="aws-s3">
<h2>2.7. AWS S3<a class="headerlink" href="#aws-s3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>2.7.1. Configuration<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>In the <code class="docutils literal notranslate"><span class="pre">cloudmesh4.yaml</span></code> file, the ‘aws’ section under ‘storage’ describes the parameters used to store files in AWS S3.
In the credentials section under aws, specify the access key id and secret access key which will be available in the AWS console under AWS IAM service -&gt; Users -&gt; Security Credentials.
Container is the default Bucket which will be used to store the files in AWS S3.
Region is the geographic area like us-east-1 which contains the bucket. Region is required to get a connection handle on the S3 Client or resource for that geographic area.
Here is a sample.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>storage:
    aws:
      cm:
        heading: aws
        host: amazon.aws.com
        label: aws
        kind: awsS3
        version: TBD
      default:
        directory: TBD
      credentials:
        access_key_id: *********
        secret_access_key: *******
        container: name of bucket that you want user to be contained in.
        region: Specfiy the default region eg us-east-1
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>2.7.2. Pytests<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Script to test the AWS S3 service can be accessed under tests folder using the following pytest command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pytest -v --capture<span class="o">=</span>no tests/test_storage_aws.py
</pre></div>
</div>
</div>
</div>
<div class="section" id="google-drive">
<h2>2.8. Google drive<a class="headerlink" href="#google-drive" title="Permalink to this headline">¶</a></h2>
<p>Due to bugs in the requirements of the google driver code,
we have not yet included it in the Provider code. This needs to be fixed
before we can do this.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">cloudmesh4.yaml</span></code> file needs to be set up as follows for the ‘gdrive’ section under ‘storage’.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>storge:
    gdrive: 
      cm: 
        heading: GDrive
        host: gdrive.google.com
        kind: gdrive
        label: GDrive
        version: TBD
      credentials: 
        auth_host_name: localhost
        auth_host_port: 
          - ****
          - ****
        auth_provider_x509_cert_url: <span class="s2">&quot;https://www.googleapis.com/oauth2/v1/certs&quot;</span>
        auth_uri: <span class="s2">&quot;https://accounts.google.com/o/oauth2/auth&quot;</span>
        client_id: *******************
        client_secret: ************
        project_id: ************
        redirect_uris: 
          - <span class="s2">&quot;urn:ietf:wg:oauth:2.0:oob&quot;</span>
          - <span class="s2">&quot;http://localhost&quot;</span>
        token_uri: <span class="s2">&quot;https://oauth2.googleapis.com/token&quot;</span>
      default: 
        directory: TBD
</pre></div>
</div>
<div class="section" id="id6">
<h3>2.8.1. Pytests<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Script to test the GDrive service can be accessed under tests folder using the following pytest command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pytest -v --capture<span class="o">=</span>no tests/test_gdrive.py
</pre></div>
</div>
</div>
</div>
<div class="section" id="virtual-directory">
<h2>2.9. Virtual Directory<a class="headerlink" href="#virtual-directory" title="Permalink to this headline">¶</a></h2>
<p>The virtual directory has been developed to mirror the linux directory commands. File links in the virtual directory point to files on storage providers, which can be retrieved using the virtual directory.</p>
<div class="section" id="id7">
<h3>2.9.1. Configuration<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>The credentials for the virtual directory are the same as for the admin mongo command. See the Mongo section for details.</p>
</div>
<div class="section" id="id8">
<h3>2.9.2. Pytests<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>The vdir command can be tested as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pytest -v --capture<span class="o">=</span>no tests/test_vdir.py
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="README-storage-awss3.html" class="btn btn-neutral float-right" title="3. AWSS3 Cloudmesh Integration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="README-storage.html" class="btn btn-neutral float-left" title="1. Cloudmesh Multi Cloud Storage Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Cloudmesh Community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>